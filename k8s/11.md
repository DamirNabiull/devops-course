# Secrets

## Task 1

### Kubectl

```
PS C:\Users\Damir\Documents\devops-course\k8s> kubectl apply -f secret.yml
secret/secret-base created

PS C:\Users\Damir\Documents\devops-course\k8s> kubectl get secrets secret-base -o yaml
apiVersion: v1
data:
  password: UEFTU1dPUkQ=
kind: Secret
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"v1","data":{"password":"UEFTU1dPUkQ="},"kind":"Secret","metadata":{"annotations":{},"name":"secret-base","namespace":"default"},"type":"Opaque"}
  creationTimestamp: "2023-11-13T11:42:12Z"
  name: secret-base
  namespace: default
  resourceVersion: "20634"
  uid: ff7f9db8-5a72-47de-a347-f02390bcf5ff
type: Opaque

PS C:\Users\Damir\Documents\devops-course\k8s> kubectl get secrets secret-base -o jsonpath='{.data.password}'
UEFTU1dPUkQ=

PS C:\Users\Damir\Documents\devops-course\k8s> [Text.Encoding]::Utf8.GetString([Convert]::FromBase64String('UEFTU1dPUkQ='))
PASSWORD
```

### Helm

I use Windows woth PowerShell, thererfore I used `Select-String` instead of `grep`

```
PS C:\Users\Damir\Documents\devops-course\k8s\helm-chart-app> kubectl get po
NAME                                    READY   STATUS    RESTARTS   AGE
python-helm-chart-app-56fb57b94-6fp6m   1/1     Running   0          5m42s
python-helm-chart-app-56fb57b94-cw8ht   1/1     Running   0          5m42s
python-helm-chart-app-56fb57b94-jlj9w   1/1     Running   0          5m42s

kubectl exec python-helm-chart-app-56fb57b94-6fp6m -- printenv | Select-String -SimpleMatch "PASSWORD"

PASSWORD=PASSWORD
```